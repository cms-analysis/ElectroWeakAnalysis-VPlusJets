process ZToMuMuPlusJetsAnalysis = {
 
 
  include "PhysicsTools/RecoCandAlgos/data/allMuons.cfi"
  include "PhysicsTools/RecoCandAlgos/data/allStandAloneMuonTracks.cfi"
  include "PhysicsTools/RecoCandAlgos/data/allTracks.cfi"
  
  include "PhysicsTools/IsolationAlgos/data/allMuonIsolations.cfi"
  include "PhysicsTools/IsolationAlgos/data/allTrackIsolations.cfi"
  include "PhysicsTools/IsolationAlgos/data/allStandAloneMuonTrackIsolations.cfi"
 
 # include "PhysicsTools/IsolationAlgos/data/allMuonIsolations.cfi"
 # include "PhysicsTools/IsolationAlgos/data/allTrackIsolations.cfi"
 # include "PhysicsTools/IsolationAlgos/data/allStandAloneMuonTrackIsolations.cfi"
 # include "PhysicsTools/HepMCCandAlgos/data/allMuonsGenParticlesMatch.cfi"
 # include "PhysicsTools/HepMCCandAlgos/data/allTracksGenParticlesLeptonMatch.cfi"
 # include "PhysicsTools/HepMCCandAlgos/data/allStandAloneMuonTracksGenParticlesLeptonMatch.cfi"


  include "ElectroWeakAnalysis/VPlusJets/interface/ZToMuMuGlobalMus.cff"
  replace ZMuMuAnalysisGlobalMuons.verbose = false
  replace ZMuMuAnalysisGlobalMuons.ExclusiveJetMult = false
  replace ZMuMuAnalysisGlobalMuons.checkOtherRecoTypes= false
  replace ZMuMuAnalysisGlobalMuons.UseZBestCandidate= true
  replace ZMuMuAnalysisGlobalMuons.useGlobalWeight= false
  replace ZMuMuAnalysisGlobalMuons.GlobalEventWeight= 1
  replace ZMuMuAnalysisGlobalMuons.jet_mult = 0
  replace ZMuMuAnalysisGlobalMuons.hostoRootName = "AnalysisWithGlobalMuonsTest.root"
  replace ZToGlobalMuons.cut = "30 < mass < 150" 

  include "ElectroWeakAnalysis/VPlusJets/interface/ZToMuMuGlobalPlusStandalone.cff"
  replace ZMuMuAnalysisGlobalPlusStandalone.verbose = true
  replace ZMuMuAnalysisGlobalPlusStandalone.ExclusiveJetMult = false
  replace ZMuMuAnalysisGlobalPlusStandalone.checkOtherRecoTypes = false
  replace ZMuMuAnalysisGlobalPlusStandalone.UseZBestCandidate= true
  replace ZMuMuAnalysisGlobalPlusStandalone.useGlobalWeight= false
  replace ZMuMuAnalysisGlobalPlusStandalone.GlobalEventWeight= 1
  replace ZMuMuAnalysisGlobalPlusStandalone.jet_mult = 2
  replace ZMuMuAnalysisGlobalPlusStandalone.hostoRootName = "AnalysisWithGlobalPlusStandalone_on_Z2Jets.root"
  replace zToGlobalMuPlusStandAloneMuonTrack.cut = "30 < mass < 150" 

  include "ElectroWeakAnalysis/VPlusJets/interface/ZToMuMuGlobalPlusTrack.cff"
  replace ZMuMuAnalysisGlobalPlusSTrack.verbose = true
  replace ZMuMuAnalysisGlobalPlusSTrack.ExclusiveJetMult = false
  replace ZMuMuAnalysisGlobalPlusSTrack.checkOtherRecoTypes = false
  replace ZMuMuAnalysisGlobalPlusSTrack.UseZBestCandidate= true
  replace ZMuMuAnalysisGlobalPlusSTrack.useGlobalWeight= false
  replace ZMuMuAnalysisGlobalPlusSTrack.GlobalEventWeight= 1
  replace ZMuMuAnalysisGlobalPlusSTrack.jet_mult = 2
  replace ZMuMuAnalysisGlobalPlusSTrack.hostoRootName = "AnalysisWithGlobalPlusTRack_on_Z2Jets.root"
  replace zToGlobalMuPlusTrack.cut = "30 < mass < 150" 

 
  untracked PSet options = {
    untracked bool wantSummary = true
  }
  service = MessageLogger {}
  service = AdaptorConfig {}
                                                                                                          
  untracked PSet maxEvents = {
    untracked int32 input = 100
  }
							 
  source = PoolSource { 				 
    untracked vstring fileNames = {			 
      //"file:/data/ilaria/filefromNewChowderMuonPD/04151952-4F99-DC11-A55C-003048562870.root"
      "file:/data/ilaria/filefromNewChowderMuonPDAOD/062CDBDF-6AA1-DC11-8E93-001617C3B5D8.root"
      //"file:/tmp/segoni/028A3DD3-19F2-DC11-9DD5-000423D9939C.root"
      //"file:/data/ilaria/filefromOldChowderMuonPD/0453B619-CE72-DC11-9E58-001617C3B5F0.root"
      //"file:/data/ilaria/CSA07_Z2Jets0_100PtBin_152/009E36D8-4462-DC11-AFDE-001731AF68B5.root"
    }
  }

  module evtInfo = AsciiOutputModule {
  }

  module out = PoolOutputModule {
    untracked string fileName = "zToMuMuPlusJets.root"
   }

 module CSA07weights = CSA07EventWeightProducer {
    InputTag src = source
    
    # verbosity
    untracked bool talkToMe = false
    
    # overall luminosity normalization  (in pb-1) 
    double overallLumi = 100.
 }

////////////////////// PATHS   ///////////////////////////

  path PrepareObjects = { 
 	evtInfo, 
	CSA07weights, 
	allMuons, 
	allStandAloneMuonTracks, 
	allTracks,
        allMuonIsolations,
        allStandAloneMuonTrackIsolations, 
        allTrackIsolations  
  }
 


 path zToMuMuIlaAnalysisGlobalMuons = { 
	ZToGlobalMuons,
    	ZMuMuAnalysisGlobalMuons
  }


 path zToMuMuGlobalPlusStandalone = { 
	zToGlobalMuPlusStandAloneMuonTrack,
 	ZMuMuAnalysisGlobalPlusStandalone
 }
                                                                                                          
 path zToMuMuGlobalPlusTrack = { 
	zToGlobalMuPlusTrack,
    	ZMuMuAnalysisGlobalPlusSTrack
  }
                                                                                                          



 //module dump = EventContentAnalyzer {}  
 // path p = {dump}


 //endpath end = { 
  //  evtInfo
  //}

}














